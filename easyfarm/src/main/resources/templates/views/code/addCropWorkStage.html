<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">

	<th:block layout:fragment="customTitle">
		<title>작물등록</title>
	</th:block>
	
	<th:block layout:fragment="pageTitle">
		작물코드 - 작물등록
	</th:block>
	
	<th:block layout:fragment="customCss">
	<style>
			button {
		    border: 0;
		    border-radius: 0;
		    padding: 0;
		    outline: none;
		    cursor: pointer;
		    background-color: transparent;
		    font-family: 'Noto Sans KR', sans-serif;
		    
		}
		.lc-round-btn {
		    display: block;
		    width: 100%;
		    height: 60px;
		    line-height: 58px;
		    font-weight: 700;
		    font-size: 20px;
		    border-radius: 60px;
		    background-color: #3BBD5A;
		    color: #fff;
		    transition: box-shadow .2s;
		    margin-top: 30px;
		    
		}
		.btn{ border-radius: 60px;
		  background-color: #3BBD5A;
		  width: auto;
		   color: #fff;
		    font-weight: 700;
		    
		   }
		   
		 .green-input {
		    display: block;
		    width: 100%;
		    border: 1px solid #ccd1d9;
		    height: 50px;
		    padding: 0 10px;
		    line-height: 46px;
		    font-size: 16px;
		}	
		 .important-col{  background-image:url("/assets/images/2222.jpg") !important;
		 	  color: #3bbd5a	 !important;
		 	  
		 }
		 #wrapper{ background-image:url("/assets/images/") !important;
		 background-size: 100% 100%;}
	</style>
	</th:block>
	<th:block layout:fragment="customScript">
		
	
		<script type="text/javascript">
		/* 
			$(function(){
				
				$('#checkBtn').click(function(){
					var ***Id = $('#***Id').val();
					
					$.ajax({
						url: "/ajax/idCheck",
						method: "POST",
						data: { ***Id : ***Id },
						success : function(data) {
							if(data == "사용가능") {

								alert("사용가능한 아이디 입니다.");
								$('#checkBtn').attr('value','yes');
							}

							 else {
								alert("중복된 아이디입니다.");
								
								//중복된 아이디면 중복체크가 다시 필요하기 때문에 check의 값을 no로 다시 지정
								$('#checkBtn').attr('value','no');
									return;
							}
							
						},
						error : function(xhr, status, error) {
							console.log('xhr : ' + xhr);
							console.log('status : ' + status);
							console.log('error : ' + error);
						}
						
					});
				}); 
			
			})
		
			$(function(){
				$('#***Id').keyup(function(){
					$('#checkBtn').attr('value','no');
				});
			});
		
		
		$(function(){
			$('#addCheck').click(function(){
				var getMail = RegExp(/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/);
				var getCheck= RegExp(/^[a-zA-Z0-9]{4,12}$/);
				var getName= RegExp(/^[가-힣]+$/);
				var phoneNumberRegex = /^[0-9]{3}-[0-9]{4}-[0-9]{4}$/;
				
				if($('#***Id').val() == ""){
					alert("아이디를 입력해주세요");
					$('#***Id').focus();
					return false; 
				}
				if(!getCheck.test($('#***Id').val())){
					alert("아이디를 형식에맞게 써주세요")
					$('#***Id').val("");
					$('#***Id').focus();
					return false;
				}
				if($('#checkBtn').val() == "no"){
					alert("중복검사를 해주세요")
					return false;
				}
				
				return true;
			})
		});
		 */
		</script>
	</th:block>
	
	<th:block layout:fragment="customContents">
	
	
		<form th:action="@{/code/addCropWorkStage}" method="post">
			<div class="container-fluid">
				<div class="row" >
					<div class="col-lg-offset-2 col-lg-8">
						<div class="panel panel-default">
							<div class="panel-heading t-center important-col ">
								<h3><strong>작업단계등록</strong></h3>
							</div>
							<div class="panel-body">
								<div class="form-horizontal">
									<div class="form-group margin-bottom-20">
										<label for="cropcode" class="col-sm-3 control-label"><strong>작물, 작업단계</strong></label>
										<div class="col-sm-4">
											<div class="card-content">
											<select class="form-control" name="cropCode" th:if="${session.SLEVEL == '관리자'}"  id="cropcode" >
												<option value="" >:::: 작물 선택 ::::</option>
												<th:block th:if="${#lists.size(crop)} > 0"  th:each="l : ${crop}">
													<option th:if="${l.useStatus == 'O'}" th:value="${l.cropCode}" >[[${l.cropName}]]</option>
												</th:block>
											</select>
											</div>
										</div>	
										<div class="col-sm-4">
											<div class="card-content">
											<select class="form-control" th:if="${session.SLEVEL == '관리자'}" name="workphase" id="" >
												  <option value="" >:::: 작업단계 선택 ::::</option>
												  <option th:value="1단계" >1단계</option>
												  <option th:value="2단계" >2단계</option>
												  <option th:value="3단계" >3단계</option>
												  <option th:value="4단계" >4단계</option>
												  <option th:value="5단계" >5단계</option>
												  <option th:value="6단계" >6단계</option>
												  <option th:value="7단계" >7단계</option>
												  <option th:value="8단계" >8단계</option>
												  <option th:value="9단계" >9단계</option>
												  <option th:value="10단계" >10단계</option>
											</select>
											</div>
										</div>
									</div>
									<div class="form-group margin-bottom-20">
										<label for="workphasename" class="col-sm-3 control-label"><strong>작업단계명</strong></label>
										<div class="col-sm-8">
											<input type="text" size="15" class="green-input" name="workphaseName" id="workphasename" placeholder="작업단계명 입력">
										</div>
									</div>
	
	
									<hr style="border-color : #ccd1d9;">
									<div class="form-group">
										<div class="col-sm-10 col-sm-offset-1">
											<button type="submit" class="btn btn-success btn-rounded waves-effect waves-light" style="width: 100%">작업단계 등록</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</th:block>
	
	

</html>