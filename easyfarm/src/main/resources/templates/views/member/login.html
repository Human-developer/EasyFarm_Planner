<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">

	<th:block layout:fragment="customTitle">
		<title>로그인화면</title>
	</th:block>
	
	<th:block layout:fragment="pageTitle">
		로그인
	</th:block>
	<th:block layout:fragment="customCss">
		<style>
			
				.green-input {
				    display: block;
				    width: 100%;
				    border: 2px solid #3BBD5A;
				    height: 50px;
				    padding: 0 10px;
				    line-height: 46px;
				    font-size: 16px;
				}	
				.lc-round-btn {
				    display: block;
				    width: 100%;
				    height: 60px;
				    line-height: 58px;
				    font-weight: 700;
				    font-size: 20px;
				    border-radius: 60px;
				    background-color: #3BBD5A;
				    color: #fff;
				    transition: box-shadow .2s;
				    margin-top: 30px;
				    
				}
				article#lcLoginPageWrap .green-input {
				    margin-bottom: 10px;
				}
				
				button {
				    border: 0;
				    border-radius: 0;
				    padding: 0;
				    outline: none;
				    cursor: pointer;
				    background-color: transparent;
				    font-family: 'Noto Sans KR', sans-serif;
				}
				
				
				article #lcLoginPageWrap #lcLoginWrap {
				    max-width: 384px;
				    width: 100%;
				    padding: 0 12px 50px;
				    display: inline-block;
				    text-align: left;
				}
				
				 a:link { color: black; text-decoration: none;}
				 a:visited { color: black; text-decoration: none;}
				 a:hover { color: blue; text-decoration: underline;}
				.col{ color: #3BBD5A ;  }
				.align{text-align: center;}
				 #wrapper{ background-image:url("/assets/images/ti203a1806.jpg") !important;
				 background-size: 100% 100%;}
			
		</style>
	</th:block>
	<th:block layout:fragment="customJavaScript">
		<script type="text/javascript">
			
			  $(".loginBtn").click(function() {
					memberId = $('#memberId').val();
					memberPw = $('#memberPw').val();
					msg = "";
					if (memberId == "") {
						
						swal({
							title: "아이디를 입력해주세요.",
							confirmButtonColor: '#304ffe'
						});
						$('#memberId').focus();
						return false;
					} 
					if(memberPw == ""){
						swal({
							title: "비밀번호를 입력해주세요.",
							confirmButtonColor: '#304ffe'
						});
						$('#memberPw').focus();
						return false;
					} else {
						$.ajax({
							type : 'post',
							url : '/member/login',
							data : {memberId:memberId,
									memberPw:memberPw},
							dataType :'json',
							success: function(data){
								msg = data.msg;
								swal({
									title: msg,
									confirmButtonColor: '#304ffe'
								});
								console.log(msg);
								if("로그인성공" == msg.trim()){
									location.href = "/";
								}else if(msg == "휴면회원입니다"){
									swal({   
										title: "휴면회원입니다",   
										text: "휴면해제를 해주세요",   
										type: "warning",   
										showCancelButton: true,   
										confirmButtonColor: "#DD6B55",   
										confirmButtonText: "휴면해제", 
										cancelButtonText: "취소", 
										closeOnConfirm: false,
										closeOnCancel: true,
										confirmButtonColor: '#f60e0e',
									},function(isConfirm){   
										if (isConfirm) {     
											location.href = "/member/releaseMember";
										}
									});
								}
								
							}
							
		
						}); 
						
						
						
					}
					
					
				});
			  
			  $('.manager').click(function(){
				  $.ajax({
						type : 'post',
						url : '/member/login',
						data : {memberId:"id001",
								memberPw:"pw001"},
						dataType :'json',
						success: function(data){
							msg = data.msg;
							
							console.log(msg);
							if("로그인성공" == msg.trim()){
								location.href = "/";
							}
							
						}
			  		})
			  });
			  $('.member').click(function(){
				  $.ajax({
						type : 'post',
						url : '/member/login',
						data : {memberId:"id006",
								memberPw:"pw006"},
						dataType :'json',
						success: function(data){
							msg = data.msg;
							
							console.log(msg);
							if("로그인성공" == msg.trim()){
								location.href = "/";
							}
							
						}
			  	   })
			  });
		</script>
	</th:block>
	<th:block layout:fragment="customContents">
	
		
			
				
					
				<div class="container-fluid">
					<div class="row">
						<div class=" align
									col-md-offset-4 col-md-7
									col-sm-offset-4 col-sm-7
									col-lg-offset-4 col-lg-4">
						
							<article id="lcLoginPageWrap" >
								<h1 class="col " style="margin-top: 110px;"><i class="glyphicon glyphicon-grain" ></i> Easy Farm </h1>
								
								
									<div  style="text-align: left; margin-top: 15px;" >
										<label style="margin-bottom: 4px;"  >아이디</label>
										<input class="green-input" id="memberId" type="text" placeholder="아이디 입력" value="id001">
									</div>
									<div style="text-align: left;">
										<label style="margin-bottom: 4px;">비밀번호</label>
										<input class="green-input" id="memberPw" type="password" placeholder="비밀번호 입력" value="pw001">
									</div>
										
									<button class="lc-round-btn loginBtn" type="button">로그인</button>
											
							
									<div  style="margin-top: 30px;">
										<a th:href="@{/member/findId}" style="margin-right: 5px;">아이디 찾기</a><span style="margin-right: 5px;">|</span><a th:href="@{/member/findPw}" style="margin-right: 5px; ">비밀번호 찾기</a><span  style="margin-right: 5px;">|</span><a th:href="@{/member/addMember}" >회원가입</a>  
									</div> 
							</article>	
							<div class="row">
								<div class ="col-xs-6">
									<button class="lc-round-btn manager" type="button">관리자로그인</button>
								</div>
								<div class ="col-xs-6">								
									<button class="lc-round-btn member" type="button">회원로그인</button>
								</div>
							</div>
						</div>					
					</div>	
				</div>

		
	</th:block>

</html>