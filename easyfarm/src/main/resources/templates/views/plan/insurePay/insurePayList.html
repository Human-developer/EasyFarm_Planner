<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">
	  
	<!-- 화면 title 설정 -->
	<th:block layout:fragment="customTitle">
		<title>프로젝트 보험료지출계획 조회</title>
	</th:block>
	
	<!-- 위에 네비 메뉴에 표시되는 경로 타이틀 -->
	<th:block layout:fragment="pageTitle">
		프로젝트 보험료지출계획 조회
	</th:block>
	
	<!-- 사용자 정의 css 라이브러리 -->
	<th:block layout:fragment="customCssLib">
	
		<link rel="stylesheet" href="/assets/sys/sysStyle.css">
		<!-- Data Tables -->
		<link rel="stylesheet" href="/assets/plugin/datatables/media/css/dataTables.bootstrap.min.css">
		<link rel="stylesheet" href="/assets/plugin/datatables/extensions/Responsive/css/responsive.bootstrap.min.css">
		
	</th:block>
	
	<!-- 사용자 정의 css -->
	<th:block layout:fragment="customCss">
		<style type="text/css">
			.btnSize{margin-right: 5px;}
		</style>
	</th:block>
	
	
	<!-- 컨텐츠 작성은 여기서  ↓ ↓ ↓ -->
	<th:block layout:fragment="customContents">
	
		<div class="container-fluid">
		    <div class="row">
				<div class="col-md-12">
					<div class="box-content">
						<div class="pull-left">
							<th:block th:if="${projectName != null}">
									<input class="hidden" th:value="${projectCode}" id="projectCode"/>
									<div style="font-size: 24px;" th:text="|${projectName} 프로젝트 보험료지출계획 조회|"></div>
							</th:block>
							<th:block th:unless="${projectName != null}">
								<div style="font-size: 24px;">프로젝트 보험료지출계획 조회</div>
							</th:block>
						</div>
						<div class="pull-right">
							<button type="button" th:value="|/plan/addInsurePay?projectCode=${projectCode}&projectPlanCode=${projectPlanCode}|" onclick="moveAddSpend(this)" class="btn btn-primary btn-sm waves-effect waves-light btn-rounded btnSize">
								보험지출계획 등록하기
							</button>
							<button type="button" th:value="|/plan/getSchedule?projectPlanCode=${projectPlanCode}|" onclick="moveAddSpend(this)" class="btn btn-success btn-sm waves-effect waves-light btn-rounded">
								켈린더 돌아가기
							</button>
						</div>
						<div style="margin-top: 6px;">
							<small style="color: red; margin-left: 6px;"></small>
						</div>
						<hr/>
						<div class="table-responsive">
							<table id="example" class="table table-striped table-bordered display" style="width:100%">
								<thead>
									<tr>
										<th class="hidden">보험료지출계획코드</th>
										<th>보험사</th>
										<th>보험명</th>
										<th>보장내용</th>
										<th>가입면적</th>
										<th>예상총보험비</th>
										<th>작성일</th>
										<th>수정</th>
										<th>삭제</th>
									</tr>
								</thead>
								<tbody>
									<th:block th:if="${#lists.size(insurancePayList) > 0}" th:each="i : ${insurancePayList}">
										<tr>
											<td class="hidden" th:text="${i.insurePayCode}"></td>
											<td th:text="${i.insureCompany}"></td>
											<td th:text="${i.insureName}"></td>
											<td th:text="${i.insureDatail}"></td>
											<td th:text="${i.insureArea}"></td>
											<td th:text="${i.insurePayTotal}"></td>
											<td th:text="${i.regDate}"></td>
											<td>
												<a th:href="@{/plan/modifyInsurePay(insurePayCode=${i.insurePayCode}, projectCode=${projectCode}, projectPlanCode=${projectPlanCode})}">수정</a>
											</td>
											<td><a>삭제</a></td>
										</tr>
									</th:block>
								</tbody>
							</table>
						</div>
					</div>
					<!-- /.box-content -->
				</div>
			</div>
		</div>
		
	</th:block>
	
	
	<!-- 사용자 정의 자바스크립트 라이브러리 -->
	<th:block layout:fragment="customScriptLib">
		<script src="/assets/plugin/datatables/media/js/jquery.dataTables.min.js"></script>
		<script src="/assets/plugin/datatables/media/js/dataTables.bootstrap.min.js"></script>
		<script src="/assets/plugin/datatables/extensions/Responsive/js/dataTables.responsive.min.js"></script>
		<script src="/assets/plugin/datatables/extensions/Responsive/js/responsive.bootstrap.min.js"></script>
		<script src="/assets/scripts/datatables.demo.min.js"></script>
		<script src="/assets/sys/myDataTable.js"></script>
	</th:block>
	
	<!-- 사용자 정의 자바스크립트 -->
	<th:block layout:fragment="customJavaScript">
		<script type="text/javascript">
		
			function moveAddSpend(btn){
				location.href = btn.value;
			};	
		
			var lang_kor = {
			        "decimal" : "",
			        "emptyTable" : "등록된 프로젝트 계획이 없습니다",
			        "info" : "_START_ - _END_ (총 _TOTAL_ 명)",
			        "infoEmpty" : "0명",
			        "infoFiltered" : "(전체 _MAX_ 농가 중 검색결과)",
			        "infoPostFix" : "",
			        "thousands" : ",",
			        "lengthMenu" : "_MENU_ 개씩 보기",
			        "loadingRecords" : "로딩중...",
			        "processing" : "처리중...",
			        "search" : "검색 : ",
			        "zeroRecords" : "검색된 프로젝트 계획이 없습니다.",
			        "paginate" : {
			            "first" : "첫 페이지",
			            "last" : "마지막 페이지",
			            "next" : "다음",
			            "previous" : "이전"
			        },
			        "aria" : {
			            "sortAscending" : " :  오름차순 정렬",
			            "sortDescending" : " :  내림차순 정렬"
			        }
			}
			
			//$('#').sysDataTable(lang_kor);
			
			
			
		</script>		
	</th:block>

</html>