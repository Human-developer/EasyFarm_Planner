<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="@{layout/default}">
	  
	<!-- 화면 title 설정 -->
	<th:block layout:fragment="customTitle">
		<title>상세계획 관리</title>
	</th:block>
	
	<!-- 위에 네비 메뉴에 표시되는 경로 타이틀 -->
	<th:block layout:fragment="pageTitle">
		상세계획 관리
	</th:block>
	
	<!-- 사용자 정의 css 라이브러리 -->
	<th:block layout:fragment="customCssLib">
		<!-- Jquery UI -->
		<link rel="stylesheet" th:href="@{/assets/plugin/jquery-ui/jquery-ui.min.css}">
		<link rel="stylesheet" th:href="@{/assets/plugin/jquery-ui/jquery-ui.structure.min.css}">
		<link rel="stylesheet" th:href="@{/assets/plugin/jquery-ui/jquery-ui.theme.min.css}">
		
		<!-- FlexDatalist -->
		<link rel="stylesheet" th:href="@{/assets/plugin/flexdatalist/jquery.flexdatalist.min.css}">
	
		<!-- Popover -->
		<link rel="stylesheet" th:href="@{/assets/plugin/popover/jquery.popSelect.min.css}">
	
		<!-- Select2 -->
		<link rel="stylesheet" th:href="@{/assets/plugin/select2/css/select2.min.css}">
	
		<!-- Timepicker -->
		<link rel="stylesheet" th:href="@{/assets/plugin/timepicker/bootstrap-timepicker.min.css}">
	
		<!-- Touch Spin -->
		<link rel="stylesheet" th:href="@{/assets/plugin/touchspin/jquery.bootstrap-touchspin-custom-Pgs.css}">
		
		<!-- Colorpicker -->
		<link rel="stylesheet" th:href="@{/assets/plugin/colorpicker/css/bootstrap-colorpicker.min.css}">
	
		<!-- Datepicker -->
		<link rel="stylesheet" th:href="@{/assets/plugin/datepicker/css/bootstrap-datepicker.min.css}">
	
		<!-- DateRangepicker -->
		<link rel="stylesheet" th:href="@{/assets/plugin/daterangepicker/daterangepicker.css}">
		
		<!-- Data Tables -->
		<link rel="stylesheet" href="/assets/plugin/datatables/media/css/dataTables.bootstrap.min.css">
		<link rel="stylesheet" href="/assets/plugin/datatables/extensions/Responsive/css/responsive.bootstrap.min.css">
	</th:block>
	
	<!-- 사용자 정의 css -->
	<th:block layout:fragment="customCss">
		<style type="text/css">
			.form-control[readonly]{background-color: #F5F5F5;}
			
			.switch.primary input[type="checkbox"]:checked + label:before, .switch input[type="checkbox"]:checked + label:after{margin-top: 4px;}
			.switch label:after, .switch label:before{margin-top: 4px;}
			.switch label:before{background-color: grey;}
			.switch{margin-bottom: 0px;}
			
			.box-content.card.white .box-title{background-color: #F5F5F5;}
			hr{border-bottom: 1px solid grey;}
			
			.ui-datepicker-calendar {display: none;}
			textarea.form-control {height : 140px;}
			
			/* 모달css */
			.modal {text-align: center;}
			.modal:before {
	            display: inline-block;
	            vertical-align: middle;
	            content: " ";
	            height: 100%;
			}
			.modal-dialog {
		        display: inline-block;
		        text-align: left;
		        vertical-align: middle;
			}
			#btnSize{margin-right: 40px;}
			button a{color: white;}
			button a:link { color: white; text-decoration: none;}
			button a:visited { color: white; text-decoration: none;}
			button a:hover { color: white; text-decoration: none;}
			
			table a{color: #1d84df !important; cursor: pointer;}
			
			.table-responsive table th, td{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}​
			.table-responsive table{table-layout:fixed}
			
			.ui-accordion .ui-accordion-header{padding: .8em .8em .8em .8em !important; font-size: 16px;}
			.ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active, a.ui-button:active, .ui-button:active, .ui-button.ui-state-active:hover{
				border: 1px solid #c5c5c5;
			    background: #f6f6f6;
			    font-weight: normal;
			    color: #454545;
			}
			.ui-accordion .ui-accordion-content{padding: 4px !important;}
			.p-star{ display:inline; color:red;}
		</style>
	</th:block>
	
	
	<!-- 컨텐츠 작성은 여기서  ↓ ↓ ↓ -->
	<th:block layout:fragment="customContents">
		<form th:action="@{#}" method="post">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12">
						<div class="box-content">
							<div class="pull-left">
								<div style="font-size: 24px;">작업일정 상세계획</div>
							</div>
							<div class="pull-right">
								<button type="button" th:value="|/plan/planScheduleList?projectPlanCode=${projectPlanCode}|" onclick="moveAddSpend(this)" class="btn btn-success btn-md waves-effect waves-light btn-rounded">
									목록 돌아가기
								</button>
							</div>
							<div style="margin-top: 6px;">
								<small style="color: red; margin-left: 6px;"></small>
							</div>
							<hr/>
							
							<div class="form-horizontal margin-bottom-30">
								<div class="form-group">
									<label for="projectPlanN" class="col-sm-2 control-label" style="width: 80px; padding-right: 0px;"><strong>계획차수</strong></label>
								    <div class="col-sm-2">
										<input class="form-control t-center" name="projectPlanN" id="projectPlanN" th:value="${projectPlanN}" readonly="readonly"/>
								    </div>
								</div>
								<div class="form-group" th:if="${planWorkphaseInfo != null}" th:with="pp = ${planWorkphaseInfo}">
									<label for="workPhase" class="col-sm-2 control-label" style="width: 80px; padding-right: 0px;"><strong>작업단계</strong></label>
								    <div class="col-sm-4">
										<select class="form-control" name="workPhase" id="workPhase" disabled="disabled">
											<option value=""> :: 단계선택 :: </option>
											<th:block th:if="${#lists.size(workphaseNameList) > 0}" th:each="w : ${workphaseNameList}">
												<option th:value="${w.projectWorkphaseCode}" th:text="|${w.workphase} : ${w.workphaseName}|" th:selected="${w.projectWorkphaseCode} == ${pp.projectWorkphaseCode}"></option>
											</th:block>
										</select>
								    </div>
							    	<label for="workPhaseDate" class="col-sm-1 control-label pl-0" style="width: 60px;"><strong>기간</strong></label>
									<div class="col-md-5">
										<div class="input-daterange input-group" id="workPhaseDate-range">
											<input type="text" class="form-control" name="start" th:value="${pp.planWorkphaseBegin}" readonly="readonly"/>
											<span class="input-group-addon bg-primary text-white"> ~ </span>
											<input type="text" class="form-control" name="end" th:value="${pp.planWorkphaseEnd}" readonly="readonly"/>
										</div>
									</div>
								</div>
								<th:block th:if="${planWorkphaseCateInfo != null}" th:with="wc = ${planWorkphaseCateInfo}">
									<div class="form-group">
										<label for="workPhase" class="col-sm-2 control-label" style="width: 80px; padding-right: 0px;"><strong>작업단계</strong></label>
									    <div class="col-sm-4">
											<select class="form-control" name="workPhase" id="workPhase" disabled="disabled">
												<option value=""> :: 단계선택 :: </option>
												<th:block th:if="${#lists.size(workphaseNameList) > 0}" th:each="w : ${workphaseNameList}">
													<option th:value="${w.projectWorkphaseCode}" th:text="|${w.workphase} : ${w.workphaseName}|" th:selected="${w.projectWorkphaseCode} == ${wc.projectWorkphaseCode}"></option>
												</th:block>
											</select>
									    </div>
								    	<label for="workPhaseDate" class="col-sm-1 control-label pl-0" style="width: 60px;"><strong>기간</strong></label>
										<div class="col-md-5">
											<div class="input-daterange input-group" id="workPhaseDate-range">
												<input type="text" class="form-control" name="start" th:value="${wc.planWorkphaseBegin}" readonly="readonly"/>
												<span class="input-group-addon bg-primary text-white"> ~ </span>
												<input type="text" class="form-control" name="end" th:value="${wc.planWorkphaseEnd}" readonly="readonly"/>
											</div>
										</div>
									</div>
									<div class="form-group" th:if="${workphaseCateNameList != null}">
										<label for="workPhaseCate" class="col-sm-2 control-label" style="width: 80px; padding-right: 0px;"><strong>상세항목</strong></label>
									    <div class="col-sm-4">
											<select class="form-control" name="workPhaseCate" id="workPhaseCate" disabled="disabled">
												<option value=""> :: 상세항목선택 :: </option>
												<th:block th:each="w : ${workphaseCateNameList}">
													<option th:value="${w.farmWorkphaseCateCode}" th:text="${w.commonWorkphaseCateName}" th:selected="${w.farmWorkphaseCateCode} == ${wc.farmWorkphaseCateCode}"></option>
												</th:block>
											</select>
									    </div>
									    <label for="workPhaseCateDate" class="col-sm-1 control-label pl-0" style="width: 60px;"><strong>기간</strong></label>
										<div class="col-md-5">
											<div class="input-daterange input-group" id="workPhaseCateDate-range">
												<input type="text" class="form-control" name="start" th:value="${wc.planWorkphaseCateBegin}" readonly="readonly"/>
												<span class="input-group-addon bg-primary text-white"> ~ </span>
												<input type="text" class="form-control" name="end" th:value="${wc.planWorkphaseCateEnd}" readonly="readonly"/>
											</div>
										</div>
									</div>
								</th:block>
							</div>
							
							<!-- 사전정보등록 아코디온 시작 -->
							<div class="box-content no-padding">
								<div id="accordion" class="js__ui_accordion">
									<h2 class="accordion-title">농가단위 사전정보등록</h2>
									<div class="accordion-content no-padding">
									
									<!-- 탭항목시작 -->
									<ul class="nav nav-tabs nav-justified" id="myTabs-justified" role="tablist">
										<li role="presentation" class="active">
											<button type="button" th:value="|/plan/planClientList?farmCode=${farmCode}|" onclick="moveAddSpend(this)" class="btn btn-primary btn-md waves-effect waves-light btn-bordered btn-block">
												거래처
											</button>
										</li>
										<li role="presentation">
											<button type="button" th:value="|/plan/planStockItemList?farmCode=${farmCode}|" onclick="moveAddSpend(this)" class="btn btn-primary btn-md waves-effect waves-light btn-bordered btn-block">
												품목
											</button>
										</li>
										<li role="presentation">
											<button type="button" th:value="|/plan/planResourcePayList?farmCode=${farmCode}|" onclick="moveAddSpend(this)" class="btn btn-primary btn-md waves-effect waves-light btn-bordered btn-block">
												농자재매입
											</button>
										</li>
										<li role="presentation">
											<button type="button" th:value="|/code/getCommonMachineCode|" onclick="moveAddSpend(this)" class="btn btn-primary btn-md waves-effect waves-light btn-bordered btn-block">
												공통농기계
											</button>
										</li>
										<li role="presentation">
											<button type="button" th:value="|/plan/planFarmBookmarkMachineList?farmCode=${farmCode}|" onclick="moveAddSpend(this)" class="btn btn-primary btn-md waves-effect waves-light btn-bordered btn-block">
												농기계즐겨찾기
											</button>
										</li>
										<li role="presentation">
											<button type="button" th:value="|/plan/getPlanFarmRetainMachineList?farmCode=${farmCode}|" onclick="moveAddSpend(this)" class="btn btn-primary btn-md waves-effect waves-light btn-bordered btn-block">
												보유농기계
											</button>
										</li>
									</ul>
									<!-- 탭항목끝 -->
									</div>
								</div>
							</div>
							<!-- 사전정보등록 아코디온 끝 -->
							
								
							<!-- 탭항목시작 -->
							<ul class="nav nav-tabs nav-justified" id="myTabs-justified" role="tablist">
								<li role="presentation" class="active"><a href="#workforcePay-justified" id="workforcePay-tab-justified" role="tab" data-toggle="tab" aria-expanded="true" aria-controls="workforcePay">인건비</a></li>
								<li role="presentation"><a href="#machine-justified" role="tab" id="machine-tab-justified" data-toggle="tab" aria-controls="machine">농기계</a></li>
								<li role="presentation"><a href="#resource-justified" role="tab" id="resource-tab-justified" data-toggle="tab" aria-controls="resource">농자재</a></li>
								<li role="presentation"><a href="#taxPay-justified" role="tab" id="taxPay-tab-justified" data-toggle="tab" aria-controls="taxPay">공과금</a></li>
								<li role="presentation"><a href="#productGain-justified" role="tab" id="productGain-tab-justified" data-toggle="tab" aria-controls="productGain">생산물</a></li>
								<li role="presentation"><a href="#etcPay-justified" role="tab" id="etcPay-tab-justified" data-toggle="tab" aria-controls="etcPay">기타비용</a></li>
							</ul>
							<!-- 탭항목끝 -->
							
							<!-- 탭항목별컨텐츠 시작-->
							<div class="tab-content" id="myTabContent-justified" th:with="ps = ${allPlanSchedule}">
								<!-- 인건비관리 시작 -->
								<div class="tab-pane fade in active" role="tabpanel" id="workforcePay-justified" aria-labelledby="workforcePay-tab-justified">
									
									<div class="box-content card white">
										<div class="box-title">인건비 지출계획</div>
										<div class="card-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered display" style="width:100%">
													<thead>
														<tr>
															<th>근무인원</th>
															<th>근무일수</th>
															<th>맨데이</th>
															<th>일일인건비</th>
															<th>인건비합계</th>
															<th>수정</th>
															<th>삭제</th>
														</tr>
													</thead>
													<tbody>
														<th:block th:if="${#lists.size(ps.expWorkforcePayList) > 0}" th:each="w : ${ps.expWorkforcePayList}">
															<tr>
																<td th:text="${w.workforceCount}"></td>
																<td th:text="${w.workforceHowlong}"></td>
																<td th:text="${w.workforceRequireDay}"></td>
																<td th:text="${w.workforcePayDay}"></td>
																<td th:text="${w.workforcePayTotal}"></td>
																<td>
																	<a th:href="|/plan/modifyPlanClient?farmCode=${farmCode}|">수정</a>
																</td>
																<td>
																	<a th:href="|/plan/removeClient?farmCode=${farmCode}|">삭제</a>
																</td>
															</tr>
														</th:block>
													</tbody>
												</table>
											</div>
										</div>
										<hr/>
										<div class="form-group t-center">
											<div class="row">
												<div class="col-md-6 col-md-offset-3">
													<button type="button" class="btn btn-primary btn-md waves-effect waves-light btn-rounded btn-block modalBtn" 
														data-toggle="modal" data-target="#planAddWorkforcePay">인건비 지출계획등록
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!-- 인건비관리 끝 -->
								
								<!-- 농기계관리 시작 -->
								<div class="tab-pane fade" role="tabpanel" id="machine-justified" aria-labelledby="machine-tab-justified">
									<div class="box-content card white">
										<div class="box-title">
											<div class="row">
												<div class="col-sm-12">
													<div class="pull-left">
														농기계 대여 지출계획
													</div>
													<div class="pull-right">
														<button type="button" class="btn btn-primary btn-xs waves-effect waves-light btn-rounded modalBtn"
															data-toggle="modal" data-target="#planAddMachineLease">대여농기계등록</button>
													</div>
												</div>
											</div>
										</div>
										<div class="card-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered display" style="width:100%">
													<thead>
														<tr>
															<th>거래처</th>
															<th>농기계종류</th>
															<th>대여일수</th>
															<th>일일대여료</th>
															<th>총대여료합계</th>
															<th>수정</th>
															<th>삭제</th>
														</tr>
													</thead>
													<tbody>
														<th:block th:if="${#lists.size(ps.expMachineLeaseList) > 0}" th:each="m : ${ps.expMachineLeaseList}">
															<tr>
																<td th:text="${m.clientName}"></td>
																<td th:text="${m.commonMachineName}"></td>
																<td th:text="${m.machineLeaseHowlong}"></td>
																<td th:text="${m.machineLeasePayDay}"></td>
																<td th:text="${m.machineLeasePayTotal}"></td>
																<td>
																	<a th:href="|/plan/modifyPlanClient?farmCode=${farmCode}|">수정</a>
																</td>
																<td>
																	<a th:href="|/plan/removeClient?farmCode=${farmCode}|">삭제</a>
																</td>
															</tr>
														</th:block>
													</tbody>
												</table>
											</div>
										</div>
									</div>
									<div class="box-content card white">
										<div class="box-title">
											<div class="row">
												<div class="col-sm-12">
													<div class="pull-left">
														보유 농기계 지출계획
													</div>
													<div class="pull-right">
														<button type="button" id="planAddBtn" class="btn btn-primary btn-xs waves-effect waves-light btn-rounded modalBtn"
															data-toggle="modal" data-target="#planAddMachineUse">보유농기계등록</button>
													</div>
												</div>
											</div>
										</div>
										<div class="card-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered display" style="width:100%">
													<thead>
														<tr>
															<th>농기계종류</th>
															<th>수정</th>
															<th>삭제</th>
														</tr>
													</thead>
													<tbody>
														<th:block th:if="${#lists.size(ps.expMachineUseList) > 0}" th:each="em : ${ps.expMachineUseList}">
															<tr>
																<td th:text="${em.commonMachineName}"></td>
																<td>
																	<a th:href="|/plan/modifyPlanClient?farmCode=${farmCode}|">수정</a>
																</td>
																<td>
																	<a th:href="|/plan/removeClient?farmCode=${farmCode}|">삭제</a>
																</td>
															</tr>
														</th:block>
													</tbody>
												</table>
											</div>
										</div>
									</div>
								</div>
								<!-- 농기계관리 끝 -->
								
								<!-- 농자재관리 시작 -->
								<div class="tab-pane fade" role="tabpanel" id="resource-justified" aria-labelledby="resource-tab-justified">
									<div class="box-content card white">
										<div class="box-title">
											<div class="row">
												<div class="col-sm-12">
													<h4>농가별 농자재 소모현황</h4>
												</div>
											</div>
										</div>
										<div class="card-content">
											<div class="table-responsive">
												<table id="resourceUsecapacityListTable" class="table table-striped table-bordered display" style="width:100%">
													<thead>
														<tr>
															<th>거래처</th>
															<th>카테고리</th>
															<th>품목명</th>
															<th>잔여수량</th>
															<th>잔여용량</th>
															<th>사용가능여부</th>
														</tr>
													</thead>
													<tbody>
														<th:block th:if="${#lists.size(resourceUsecapacityList) > 0}" th:each="r : ${resourceUsecapacityList}">
															<tr>
																<td th:text="${r.clientName}"></td>
																<td th:text="${r.stockCateName}"></td>
																<td th:text="${r.stockItemName}"></td>
																<td th:text="${r.resourceRetainQuantity}"></td>
																<td th:text="${r.resourceRetainQuantityCapacityExtra}"></td>
																<td th:text="${r.availableStatus}"></td>
															</tr>
														</th:block>
													</tbody>
												</table>
											</div>
										</div>
										<div class="box-title">농자재사용 지출계획</div>
										<div class="card-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered display" style="width:100%">
													<thead>
														<tr>
															<th>품목카테고리</th>
															<th>품목명</th>
															<th>사용수량</th>
															<th>수량단위</th>
															<th>총사용용량</th>
															<th>용량단위</th>
															<th>총사용량금액환산</th>
															<th>수정</th>
															<th>삭제</th>
														</tr>
													</thead>
													<tbody>
														<th:block th:if="${#lists.size(ps.expResourceUseplanList) > 0}" th:each="ru : ${ps.expResourceUseplanList}">
															<tr>
																<td th:text="${ru.stockCateName}"></td>
																<td th:text="${ru.stockItemName}"></td>
																<td th:text="${ru.stockItemUseQuantity}"></td>
																<td th:text="${ru.stockItemQuantityUnit}"></td>
																<td th:text="${ru.stockItemUseQuantityTotal}"></td>
																<td th:text="${ru.stockItemQuantityCapacityUnit}"></td>
																<td th:text="${ru.stockItemUseQuantityConversionPay}"></td>
																<td>
																	<a th:href="|/plan/modifyPlanClient?farmCode=${farmCode}|">수정</a>
																</td>
																<td>
																	<a th:href="|/plan/removeClient?farmCode=${farmCode}|">삭제</a>
																</td>
															</tr>
														</th:block>
													</tbody>
												</table>
											</div>
											<hr/>
											<div class="form-group t-center">
												<div class="row">
													<div class="col-md-6 col-md-offset-3">
														<button type="button" class="btn btn-primary btn-md waves-effect waves-light btn-rounded btn-block modalBtn" 
															data-toggle="modal" data-target="#planAddResourceUsePlan">농자재 지출계획등록
														</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!-- 농자재관리 끝 -->
								
								<!-- 공과금관리 시작 -->
								<div class="tab-pane fade" role="tabpanel" id="taxPay-justified" aria-labelledby="taxPay-tab-justified">
									<div class="box-content card white">
										<div class="box-title">공과금 지출계획</div>
										<div class="card-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered display" style="width:100%">
													<thead>
														<tr>
															<th>거래처명</th>
															<th>공과금항목</th>
															<th>납부월</th>
															<th>납부금액</th>
															<th>추가메모</th>
															<th>수정</th>
															<th>삭제</th>
														</tr>
													</thead>
													<tbody>
														<th:block th:if="${#lists.size(ps.expTaxPayList) > 0}" th:each="tp : ${ps.expTaxPayList}">
															<tr>
																<td th:text="${tp.clientName}"></td>
																<td th:text="${tp.taxPayCateName}"></td>
																<td th:text="${tp.taxPayWhatmonth}"></td>
																<td th:text="${tp.taxPay}"></td>
																<td th:text="${tp.taxPayDetail}"></td>
																<td>
																	<a th:href="|/plan/modifyPlanClient?farmCode=${farmCode}|">수정</a>
																</td>
																<td>
																	<a th:href="|/plan/removeClient?farmCode=${farmCode}|">삭제</a>
																</td>
															</tr>
														</th:block>
													</tbody>
												</table>
											</div>
											<hr/>
											<div class="form-group t-center">
												<div class="row">
													<div class="col-md-6 col-md-offset-3">
														<button type="button" class="btn btn-primary btn-md waves-effect waves-light btn-rounded btn-block modalBtn" 
															data-toggle="modal" data-target="#planAddTaxPayPlan">공과금 지출계획등록
														</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!-- 공과금관리 끝 -->
								
								<!-- 생산물관리 시작 -->
								<div class="tab-pane fade" role="tabpanel" id="productGain-justified" aria-labelledby="productGain-tab-justified">
									<div class="box-content card white">
										<div class="box-title">생산물 수확계획</div>
										<div class="card-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered display" style="width:100%">
													<thead>
														<tr>
															<th>품목카테고리</th>
															<th>품목명</th>
															<th>수확수량</th>
															<th>수량단위</th>
															<th>수확용량</th>
															<th>용량단위</th>
															<th>추가메모</th>
															<th>수정</th>
															<th>삭제</th>
														</tr>
													</thead>
													<tbody>
														<th:block th:if="${#lists.size(ps.productGainList) > 0}" th:each="pg : ${ps.productGainList}">
															<tr>
																<td th:text="${pg.stockCateName}"></td>
																<td th:text="${pg.stockItemName}"></td>
																<td th:text="${pg.gainQuantity}"></td>
																<td th:text="${pg.stockItemQuantityUnit}"></td>
																<td th:text="${pg.gainQuantityCapacity}"></td>
																<td th:text="${pg.stockItemQuantityCapacityUnit}"></td>
																<td th:text="${pg.gainDetail}"></td>
																<td>
																	<a th:href="|/plan/modifyPlanClient?farmCode=${farmCode}|">수정</a>
																</td>
																<td>
																	<a th:href="|/plan/removeClient?farmCode=${farmCode}|">삭제</a>
																</td>
															</tr>
														</th:block>
													</tbody>
												</table>
											</div>
											<hr/>
											<div class="form-group t-center">
												<div class="row">
													<div class="col-md-6 col-md-offset-3">
														<button type="button" class="btn btn-primary btn-md waves-effect waves-light btn-rounded btn-block modalBtn" 
															data-toggle="modal" data-target="#planAddProductGain">생산물 수확계획등록
														</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!-- 생산물관리 끝 -->
								
								<!-- 기타비용관리 시작 -->
								<div class="tab-pane fade" role="tabpanel" id="etcPay-justified" aria-labelledby="etcPay-tab-justified">
									<div class="box-content card white">
										<div class="box-title">기타비용 지출계획</div>
										<div class="card-content">
											<div class="table-responsive">
												<table class="table table-striped table-bordered display" style="width:100%">
													<thead>
														<tr>
															<th>거래처명</th>
															<th>지출금액</th>
															<th>추가메모</th>
															<th>수정</th>
															<th>삭제</th>
														</tr>
													</thead>
													<tbody>
														<th:block th:if="${#lists.size(ps.expEtcPayList) > 0}" th:each="ep : ${ps.expEtcPayList}">
															<tr>
																<td th:text="${ep.clientName}"></td>
																<td th:text="${ep.etcPay}"></td>
																<td th:text="${ep.etcPayDetail}"></td>
																<td>
																	<a th:href="|/plan/modifyPlanClient?farmCode=${farmCode}|">수정</a>
																</td>
																<td>
																	<a th:href="|/plan/removeClient?farmCode=${farmCode}|">삭제</a>
																</td>
															</tr>
														</th:block>
													</tbody>
												</table>
											</div>
											<hr/>
											<div class="form-group t-center">
												<div class="row">
													<div class="col-md-6 col-md-offset-3">
														<button type="button" class="btn btn-primary btn-md waves-effect waves-light btn-rounded btn-block modalBtn" 
															data-toggle="modal" data-target="#planAddEtcPay">기타비용 지출계획등록
														</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!-- 기타비용관리 끝 -->
							</div>
							<!-- 탭항목별컨텐츠 끝-->
						</div>
					</div>
				</div>
			</div>
		</form>
	</th:block>
	
	<!-- 모달 시작 -->
	<th:block layout:fragment="customModals">
	
		<!-- planModals.html start -->
		<div th:replace="fragments/planModals :: planModalsFragment" th:remove="tag"></div>
		<!-- planModals.html end -->
	
	
	</th:block>
	<!-- 모달 끝 -->
	
	
	<!-- 사용자 정의 자바스크립트 라이브러리 -->
	<th:block layout:fragment="customScriptLib">
		
		<!-- CommonAjax Script -->
		<script src="/assets/scripts/commonAjax.js"></script>
		
		<!-- Flex Datalist -->
		<script th:src="@{/assets/plugin/flexdatalist/jquery.flexdatalist.min.js}"></script>
	
		<!-- Popover -->
		<script th:src="@{/assets/plugin/popover/jquery.popSelect.min.js}"></script>
	
		<!-- Select2 -->
		<script th:src="@{/assets/plugin/select2/js/select2.min.js}"></script>
	
		<!-- Multi Select -->
		<script th:src="@{/assets/plugin/multiselect/multiselect.min.js}"></script>
	
		<!-- Touch Spin -->
		<script th:src="@{/assets/plugin/touchspin/jquery.bootstrap-touchspin-custom-Pgs.js}"></script>
	
		<!-- Timepicker -->
		<script th:src="@{/assets/plugin/timepicker/bootstrap-timepicker.min.js}"></script>
	
		<!-- Colorpicker -->
		<script th:src="@{/assets/plugin/colorpicker/js/bootstrap-colorpicker.min.js}"></script>
	
		<!-- Datepicker -->
		<script th:src="@{/assets/plugin/datepicker/js/bootstrap-datepicker.min.js}"></script>
	
		<!-- Moment -->
		<script th:src="@{/assets/plugin/moment/moment.js}"></script>
	
		<!-- DateRangepicker -->
		<script th:src="@{/assets/plugin/daterangepicker/daterangepicker.js}"></script>
	
		<!-- Maxlength -->
		<script th:src="@{/assets/plugin/maxlength/bootstrap-maxlength.min.js}"></script>
	
		<!-- Demo Scripts -->
		<script th:src="@{/assets/scripts/form.custom.PGS.js}"></script>
		
		<!-- Data Tables -->
		<script src="/assets/plugin/datatables/media/js/jquery.dataTables.min.js"></script>
		<script src="/assets/plugin/datatables/media/js/dataTables.bootstrap.min.js"></script>
		<script src="/assets/plugin/datatables/extensions/Responsive/js/dataTables.responsive.min.js"></script>
		<script src="/assets/plugin/datatables/extensions/Responsive/js/responsive.bootstrap.min.js"></script>
		<script src="/assets/scripts/datatables.demo.min.js"></script>
		<script src="/assets/sys/myDataTable.js"></script>
		
		<!-- addSpend.html Scripts -->
		<script th:src="@{/assets/scripts/addSpend.js}"></script>
	</th:block>
	
	<!-- 사용자 정의 자바스크립트 -->
	<th:block layout:fragment="customJavaScript">
		<script type="text/javascript">
			function moveAddSpend(btn){
					location.href = btn.value;
			};
			
			var lang_kor = {
			        "decimal" : "",
			        "emptyTable" : "등록된 정보가 없습니다",
			        "info" : "_START_ - _END_",
			        "infoEmpty" : "0",
			        "infoFiltered" : "(전체 _MAX_검색결과)",
			        "infoPostFix" : "",
			        "thousands" : ",",
			        "lengthMenu" : "_MENU_ 개씩 보기",
			        "loadingRecords" : "로딩중...",
			        "processing" : "처리중...",
			        "search" : "검색 : ",
			        "zeroRecords" : "검색된 정보가 없습니다.",
			        "paginate" : {
			            "first" : "첫 페이지",
			            "last" : "마지막 페이지",
			            "next" : "다음",
			            "previous" : "이전"
			        },
			        "aria" : {
			            "sortAscending" : " :  오름차순 정렬",
			            "sortDescending" : " :  내림차순 정렬"
			        }
			}
			
			$('table').DataTable({
				language : lang_kor
			});
			
			$('.modalBtn').click(function(){
				$("form[name=addWorkforcePay]")[0].reset();
				$("form[name=addMachineLeasePay]")[0].reset();
				$("form[name=addMachineUsePay]")[0].reset();
				$("form[name=addResourceUsePlan]")[0].reset();
			})
		</script>
	</th:block>

</html>